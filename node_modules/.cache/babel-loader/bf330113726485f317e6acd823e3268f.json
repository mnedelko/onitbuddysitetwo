{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar react_1 = require(\"react\");\nvar logger_1 = __importDefault(require(\"../logger\"));\nvar useUserInteraction = function useUserInteraction(_ref, state, dispatch) {\n  var wallet = _ref.wallet;\n  var refreshTimeoutId = state.refreshTimeoutId;\n  /**\n   * handle the user initiating an issuance request\n   */\n  var requestGatewayToken = (0, react_1.useCallback)( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            logger_1.default.debug('requestGatewayToken called');\n            if (!(!wallet || !wallet.publicKey)) {\n              _context.next = 4;\n              break;\n            }\n            logger_1.default.error('No wallet connected');\n            return _context.abrupt(\"return\");\n          case 4:\n            dispatch({\n              type: 'userInteraction_check_gatewayToken_status',\n              token: state.gatewayToken\n            });\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [refreshTimeoutId, state.gatewayToken]);\n  return {\n    requestGatewayToken: requestGatewayToken\n  };\n};\nexports.default = useUserInteraction;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","react_1","require","logger_1","useUserInteraction","state","dispatch","wallet","refreshTimeoutId","requestGatewayToken","useCallback","default","debug","publicKey","error","type","token","gatewayToken"],"sources":["/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@civic/common-gateway-react/dist/esm/useHooks/useUserInteraction.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nconst logger_1 = __importDefault(require(\"../logger\"));\nconst useUserInteraction = ({ wallet }, state, dispatch) => {\n    const { refreshTimeoutId } = state;\n    /**\n     * handle the user initiating an issuance request\n     */\n    const requestGatewayToken = (0, react_1.useCallback)(async () => {\n        logger_1.default.debug('requestGatewayToken called');\n        if (!wallet || !wallet.publicKey) {\n            logger_1.default.error('No wallet connected');\n            return;\n        }\n        dispatch({ type: 'userInteraction_check_gatewayToken_status', token: state.gatewayToken });\n    }, [refreshTimeoutId, state.gatewayToken]);\n    return {\n        requestGatewayToken,\n    };\n};\nexports.default = useUserInteraction;\n"],"mappings":"AAAA,YAAY;;AAAC;AAAA;AACb,IAAIA,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,IAAK,UAAUC,GAAG,EAAE;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAID,GAAG,GAAG;IAAE,SAAS,EAAEA;EAAI,CAAC;AAC7D,CAAC;AACDE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,IAAMC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAChC,IAAMC,QAAQ,GAAGT,eAAe,CAACQ,OAAO,CAAC,WAAW,CAAC,CAAC;AACtD,IAAME,kBAAkB,GAAG,SAArBA,kBAAkB,OAAgBC,KAAK,EAAEC,QAAQ,EAAK;EAAA,IAA9BC,MAAM,QAANA,MAAM;EAChC,IAAQC,gBAAgB,GAAKH,KAAK,CAA1BG,gBAAgB;EACxB;AACJ;AACA;EACI,IAAMC,mBAAmB,GAAG,CAAC,CAAC,EAAER,OAAO,CAACS,WAAW,2EAAE;IAAA;MAAA;QAAA;UAAA;YACjDP,QAAQ,CAACQ,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAC;YAAC,MACjD,CAACL,MAAM,IAAI,CAACA,MAAM,CAACM,SAAS;cAAA;cAAA;YAAA;YAC5BV,QAAQ,CAACQ,OAAO,CAACG,KAAK,CAAC,qBAAqB,CAAC;YAAC;UAAA;YAGlDR,QAAQ,CAAC;cAAES,IAAI,EAAE,2CAA2C;cAAEC,KAAK,EAAEX,KAAK,CAACY;YAAa,CAAC,CAAC;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAC9F,IAAE,CAACT,gBAAgB,EAAEH,KAAK,CAACY,YAAY,CAAC,CAAC;EAC1C,OAAO;IACHR,mBAAmB,EAAnBA;EACJ,CAAC;AACL,CAAC;AACDV,OAAO,CAACY,OAAO,GAAGP,kBAAkB"},"metadata":{},"sourceType":"script"}