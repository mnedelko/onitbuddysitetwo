{"ast":null,"code":"import React, { useLayoutEffect, useRef } from 'react';\nexport var Collapse = function Collapse(_ref) {\n  var id = _ref.id,\n    children = _ref.children,\n    _ref$expanded = _ref.expanded,\n    expanded = _ref$expanded === void 0 ? false : _ref$expanded;\n  var ref = useRef(null);\n  var instant = useRef(true);\n  var transition = 'height 250ms ease-out';\n  var openCollapse = function openCollapse() {\n    var node = ref.current;\n    if (!node) return;\n    requestAnimationFrame(function () {\n      node.style.height = node.scrollHeight + 'px';\n    });\n  };\n  var closeCollapse = function closeCollapse() {\n    var node = ref.current;\n    if (!node) return;\n    requestAnimationFrame(function () {\n      node.style.height = node.offsetHeight + 'px';\n      node.style.overflow = 'hidden';\n      requestAnimationFrame(function () {\n        node.style.height = '0';\n      });\n    });\n  };\n  useLayoutEffect(function () {\n    if (expanded) {\n      openCollapse();\n    } else {\n      closeCollapse();\n    }\n  }, [expanded]);\n  useLayoutEffect(function () {\n    var node = ref.current;\n    if (!node) return;\n    function handleComplete() {\n      if (!node) return;\n      node.style.overflow = expanded ? 'initial' : 'hidden';\n      if (expanded) {\n        node.style.height = 'auto';\n      }\n    }\n    function handleTransitionEnd(event) {\n      if (node && event.target === node && event.propertyName === 'height') {\n        handleComplete();\n      }\n    }\n    if (instant.current) {\n      handleComplete();\n      instant.current = false;\n    }\n    node.addEventListener('transitionend', handleTransitionEnd);\n    return function () {\n      return node.removeEventListener('transitionend', handleTransitionEnd);\n    };\n  }, [expanded]);\n  return React.createElement(\"div\", {\n    children: children,\n    className: \"wallet-adapter-collapse\",\n    id: id,\n    ref: ref,\n    role: \"region\",\n    style: {\n      height: 0,\n      transition: instant.current ? undefined : transition\n    }\n  });\n};","map":{"version":3,"sources":["../src/Collapse.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,IAAQ,eAAe,EAAE,MAAM,QAAQ,OAAO;AAO1D,OAAO,IAAM,QAAQ,GAAsB,SAA9B,QAAQ,OAA6D;EAAA,IAApC,EAAE,QAAF,EAAE;IAAE,QAAQ,QAAR,QAAQ;IAAA,qBAAE,QAAQ;IAAR,QAAQ,8BAAG,KAAK;EACxE,IAAM,GAAG,GAAG,MAAM,CAAiB,IAAI,CAAC;EACxC,IAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC;EAC5B,IAAM,UAAU,GAAG,uBAAuB;EAE1C,IAAM,YAAY,GAAG,SAAf,YAAY,GAAQ;IACtB,IAAM,IAAI,GAAG,GAAG,CAAC,OAAO;IACxB,IAAI,CAAC,IAAI,EAAE;IAEX,qBAAqB,CAAC,YAAK;MACvB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI;IAChD,CAAC,CAAC;EACN,CAAC;EAED,IAAM,aAAa,GAAG,SAAhB,aAAa,GAAQ;IACvB,IAAM,IAAI,GAAG,GAAG,CAAC,OAAO;IACxB,IAAI,CAAC,IAAI,EAAE;IAEX,qBAAqB,CAAC,YAAK;MACvB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI;MAC5C,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ;MAC9B,qBAAqB,CAAC,YAAK;QACvB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG;MAC3B,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC;EAED,eAAe,CAAC,YAAK;IACjB,IAAI,QAAQ,EAAE;MACV,YAAY,EAAE;KACjB,MAAM;MACH,aAAa,EAAE;IAClB;EACL,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;EAEd,eAAe,CAAC,YAAK;IACjB,IAAM,IAAI,GAAG,GAAG,CAAC,OAAO;IACxB,IAAI,CAAC,IAAI,EAAE;IAEX,SAAS,cAAc,GAAA;MACnB,IAAI,CAAC,IAAI,EAAE;MAEX,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,GAAG,SAAS,GAAG,QAAQ;MACrD,IAAI,QAAQ,EAAE;QACV,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM;MAC7B;IACL;IAEA,SAAS,mBAAmB,CAAC,KAAsB,EAAA;MAC/C,IAAI,IAAI,IAAI,KAAK,CAAC,MAAM,KAAK,IAAI,IAAI,KAAK,CAAC,YAAY,KAAK,QAAQ,EAAE;QAClE,cAAc,EAAE;MACnB;IACL;IAEA,IAAI,OAAO,CAAC,OAAO,EAAE;MACjB,cAAc,EAAE;MAChB,OAAO,CAAC,OAAO,GAAG,KAAK;IAC1B;IAED,IAAI,CAAC,gBAAgB,CAAC,eAAe,EAAE,mBAAmB,CAAC;IAC3D,OAAO;MAAA,OAAM,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE,mBAAmB,CAAC;IAAA;EAC/E,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;EAEd,OACI,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;IACI,QAAQ,EAAE,QAAQ;IAClB,SAAS,EAAC,yBAAyB;IACnC,EAAE,EAAE,EAAE;IACN,GAAG,EAAE,GAAG;IACR,IAAI,EAAC,QAAQ;IACb,KAAK,EAAE;MAAE,MAAM,EAAE,CAAC;MAAE,UAAU,EAAE,OAAO,CAAC,OAAO,GAAG,SAAS,GAAG;IAAU;EAAE,CAAA,CAC5E;AAEV,CAAC","sourceRoot":"","sourcesContent":["import React, { useLayoutEffect, useRef } from 'react';\nexport const Collapse = ({ id, children, expanded = false }) => {\n    const ref = useRef(null);\n    const instant = useRef(true);\n    const transition = 'height 250ms ease-out';\n    const openCollapse = () => {\n        const node = ref.current;\n        if (!node)\n            return;\n        requestAnimationFrame(() => {\n            node.style.height = node.scrollHeight + 'px';\n        });\n    };\n    const closeCollapse = () => {\n        const node = ref.current;\n        if (!node)\n            return;\n        requestAnimationFrame(() => {\n            node.style.height = node.offsetHeight + 'px';\n            node.style.overflow = 'hidden';\n            requestAnimationFrame(() => {\n                node.style.height = '0';\n            });\n        });\n    };\n    useLayoutEffect(() => {\n        if (expanded) {\n            openCollapse();\n        }\n        else {\n            closeCollapse();\n        }\n    }, [expanded]);\n    useLayoutEffect(() => {\n        const node = ref.current;\n        if (!node)\n            return;\n        function handleComplete() {\n            if (!node)\n                return;\n            node.style.overflow = expanded ? 'initial' : 'hidden';\n            if (expanded) {\n                node.style.height = 'auto';\n            }\n        }\n        function handleTransitionEnd(event) {\n            if (node && event.target === node && event.propertyName === 'height') {\n                handleComplete();\n            }\n        }\n        if (instant.current) {\n            handleComplete();\n            instant.current = false;\n        }\n        node.addEventListener('transitionend', handleTransitionEnd);\n        return () => node.removeEventListener('transitionend', handleTransitionEnd);\n    }, [expanded]);\n    return (React.createElement(\"div\", { children: children, className: \"wallet-adapter-collapse\", id: id, ref: ref, role: \"region\", style: { height: 0, transition: instant.current ? undefined : transition } }));\n};\n//# sourceMappingURL=Collapse.js.map"]},"metadata":{},"sourceType":"module"}