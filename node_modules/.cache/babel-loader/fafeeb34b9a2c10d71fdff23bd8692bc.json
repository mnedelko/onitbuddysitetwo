{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) {\n    if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n  }\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useSolanaGateway = exports.SolanaGatewayProvider = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\n// @ts-ignore\nvar react_1 = require(\"react\");\nvar common_gateway_react_1 = require(\"@civic/common-gateway-react\");\nvar chainImplementation_1 = require(\"./chainImplementation\");\nvar config_1 = require(\"./config\");\nvar SolanaGatewayProvider = function SolanaGatewayProvider(_ref) {\n  var _ref$children = _ref.children,\n    children = _ref$children === void 0 ? null : _ref$children,\n    wallet = _ref.wallet,\n    clusterUrl = _ref.clusterUrl,\n    _ref$cluster = _ref.cluster,\n    cluster = _ref$cluster === void 0 ? 'mainnet-beta' : _ref$cluster,\n    gatekeeperNetwork = _ref.gatekeeperNetwork,\n    wrapper = _ref.wrapper,\n    logo = _ref.logo,\n    _ref$stage = _ref.stage,\n    stage = _ref$stage === void 0 ? 'prod' : _ref$stage,\n    redirectUrl = _ref.redirectUrl,\n    broadcastTransaction = _ref.broadcastTransaction,\n    gatekeeperSendsTransaction = _ref.gatekeeperSendsTransaction,\n    handleTransaction = _ref.handleTransaction,\n    _ref$options = _ref.options,\n    options = _ref$options === void 0 ? {\n      autoShowModal: true\n    } : _ref$options;\n  var _a, _b;\n  var chainImpl = (0, react_1.useMemo)(function () {\n    if ((wallet === null || wallet === void 0 ? void 0 : wallet.publicKey) && (wallet === null || wallet === void 0 ? void 0 : wallet.signTransaction) && gatekeeperNetwork) {\n      var publicKey = wallet.publicKey,\n        signTransaction = wallet.signTransaction;\n      return (0, chainImplementation_1.chainImplementation)({\n        clusterUrl: clusterUrl,\n        cluster: cluster,\n        publicKey: publicKey,\n        signTransaction: signTransaction,\n        gatekeeperNetworkAddress: gatekeeperNetwork,\n        stage: stage,\n        handleTransaction: handleTransaction\n      });\n    }\n    return undefined;\n  }, [clusterUrl, cluster, (_a = wallet === null || wallet === void 0 ? void 0 : wallet.publicKey) === null || _a === void 0 ? void 0 : _a.toBase58(), gatekeeperNetwork === null || gatekeeperNetwork === void 0 ? void 0 : gatekeeperNetwork.toBase58(), stage]);\n  var walletAdapter = (0, react_1.useMemo)(function () {\n    if (wallet === null || wallet === void 0 ? void 0 : wallet.publicKey) {\n      var publicKey = wallet.publicKey;\n      return {\n        publicKey: publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58()\n      };\n    }\n    return undefined;\n  }, [(_b = wallet === null || wallet === void 0 ? void 0 : wallet.publicKey) === null || _b === void 0 ? void 0 : _b.toBase58()]);\n  if (walletAdapter && chainImpl) {\n    common_gateway_react_1.logger.info('Client Options', options);\n    var ownerSigns = (0, config_1.ownerSignsEnabled)({\n      broadcastTransaction: broadcastTransaction,\n      gatekeeperSendsTransaction: gatekeeperSendsTransaction\n    });\n    return (0, jsx_runtime_1.jsx)(common_gateway_react_1.GatewayProvider, Object.assign({\n      wallet: walletAdapter,\n      stage: stage,\n      chainImplementation: chainImpl,\n      gatekeeperNetwork: gatekeeperNetwork === null || gatekeeperNetwork === void 0 ? void 0 : gatekeeperNetwork.toBase58(),\n      wrapper: wrapper,\n      logo: logo,\n      redirectUrl: redirectUrl,\n      // TODO remove broadcastTransaction in future version\n      ownerSigns: ownerSigns,\n      options: options\n    }, {\n      children: children\n    }));\n  }\n  return (0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, {\n    children: children\n  });\n};\nexports.SolanaGatewayProvider = SolanaGatewayProvider;\nvar chainImplementation_2 = require(\"./chainImplementation\");\nObject.defineProperty(exports, \"useSolanaGateway\", {\n  enumerable: true,\n  get: function get() {\n    return chainImplementation_2.useSolanaGateway;\n  }\n});\n__exportStar(require(\"./types\"), exports);","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__exportStar","exports","p","prototype","hasOwnProperty","call","value","useSolanaGateway","SolanaGatewayProvider","jsx_runtime_1","require","react_1","common_gateway_react_1","chainImplementation_1","config_1","children","wallet","clusterUrl","cluster","gatekeeperNetwork","wrapper","logo","stage","redirectUrl","broadcastTransaction","gatekeeperSendsTransaction","handleTransaction","options","autoShowModal","_a","_b","chainImpl","useMemo","publicKey","signTransaction","chainImplementation","gatekeeperNetworkAddress","toBase58","walletAdapter","logger","info","ownerSigns","ownerSignsEnabled","jsx","GatewayProvider","assign","Fragment","chainImplementation_2"],"sources":["/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@civic/solana-gateway-react/dist/esm/SolanaGatewayProvider.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useSolanaGateway = exports.SolanaGatewayProvider = void 0;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\n// @ts-ignore\nconst react_1 = require(\"react\");\nconst common_gateway_react_1 = require(\"@civic/common-gateway-react\");\nconst chainImplementation_1 = require(\"./chainImplementation\");\nconst config_1 = require(\"./config\");\nconst SolanaGatewayProvider = ({ children = null, wallet, clusterUrl, cluster = 'mainnet-beta', gatekeeperNetwork, wrapper, logo, stage = 'prod', redirectUrl, broadcastTransaction, gatekeeperSendsTransaction, handleTransaction, options = { autoShowModal: true }, }) => {\n    var _a, _b;\n    const chainImpl = (0, react_1.useMemo)(() => {\n        if ((wallet === null || wallet === void 0 ? void 0 : wallet.publicKey) && (wallet === null || wallet === void 0 ? void 0 : wallet.signTransaction) && gatekeeperNetwork) {\n            const { publicKey, signTransaction } = wallet;\n            return (0, chainImplementation_1.chainImplementation)({\n                clusterUrl,\n                cluster,\n                publicKey,\n                signTransaction,\n                gatekeeperNetworkAddress: gatekeeperNetwork,\n                stage,\n                handleTransaction,\n            });\n        }\n        return undefined;\n    }, [clusterUrl, cluster, (_a = wallet === null || wallet === void 0 ? void 0 : wallet.publicKey) === null || _a === void 0 ? void 0 : _a.toBase58(), gatekeeperNetwork === null || gatekeeperNetwork === void 0 ? void 0 : gatekeeperNetwork.toBase58(), stage]);\n    const walletAdapter = (0, react_1.useMemo)(() => {\n        if (wallet === null || wallet === void 0 ? void 0 : wallet.publicKey) {\n            const { publicKey } = wallet;\n            return { publicKey: publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58() };\n        }\n        return undefined;\n    }, [(_b = wallet === null || wallet === void 0 ? void 0 : wallet.publicKey) === null || _b === void 0 ? void 0 : _b.toBase58()]);\n    if (walletAdapter && chainImpl) {\n        common_gateway_react_1.logger.info('Client Options', options);\n        const ownerSigns = (0, config_1.ownerSignsEnabled)({ broadcastTransaction, gatekeeperSendsTransaction });\n        return ((0, jsx_runtime_1.jsx)(common_gateway_react_1.GatewayProvider, Object.assign({ wallet: walletAdapter, stage: stage, chainImplementation: chainImpl, gatekeeperNetwork: gatekeeperNetwork === null || gatekeeperNetwork === void 0 ? void 0 : gatekeeperNetwork.toBase58(), wrapper: wrapper, logo: logo, redirectUrl: redirectUrl, \n            // TODO remove broadcastTransaction in future version\n            ownerSigns: ownerSigns, options: options }, { children: children })));\n    }\n    return (0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: children });\n};\nexports.SolanaGatewayProvider = SolanaGatewayProvider;\nvar chainImplementation_2 = require(\"./chainImplementation\");\nObject.defineProperty(exports, \"useSolanaGateway\", { enumerable: true, get: function () { return chainImplementation_2.useSolanaGateway; } });\n__exportStar(require(\"./types\"), exports);\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}