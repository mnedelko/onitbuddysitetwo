{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _slicedToArray from \"/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Button } from './Button';\nimport { useWalletModal } from './useWalletModal';\nimport { WalletConnectButton } from './WalletConnectButton';\nimport { WalletIcon } from './WalletIcon';\nimport { WalletModalButton } from './WalletModalButton';\nexport var WalletMultiButton = function WalletMultiButton(_a) {\n  var children = _a.children,\n    props = __rest(_a, [\"children\"]);\n  var _useWallet = useWallet(),\n    publicKey = _useWallet.publicKey,\n    wallet = _useWallet.wallet,\n    disconnect = _useWallet.disconnect;\n  var _useWalletModal = useWalletModal(),\n    setVisible = _useWalletModal.setVisible;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    copied = _useState2[0],\n    setCopied = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    active = _useState4[0],\n    setActive = _useState4[1];\n  var ref = useRef(null);\n  var base58 = useMemo(function () {\n    return publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58();\n  }, [publicKey]);\n  var content = useMemo(function () {\n    if (children) return children;\n    if (!wallet || !base58) return null;\n    return base58.slice(0, 4) + '..' + base58.slice(-4);\n  }, [children, wallet, base58]);\n  var copyAddress = useCallback(function () {\n    return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!base58) {\n                _context.next = 5;\n                break;\n              }\n              _context.next = 3;\n              return navigator.clipboard.writeText(base58);\n            case 3:\n              setCopied(true);\n              setTimeout(function () {\n                return setCopied(false);\n              }, 400);\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n  }, [base58]);\n  var openDropdown = useCallback(function () {\n    return setActive(true);\n  }, [setActive]);\n  var closeDropdown = useCallback(function () {\n    return setActive(false);\n  }, [setActive]);\n  var openModal = useCallback(function () {\n    setVisible(true);\n    closeDropdown();\n  }, [setVisible, closeDropdown]);\n  useEffect(function () {\n    var listener = function listener(event) {\n      var node = ref.current;\n      // Do nothing if clicking dropdown or its descendants\n      if (!node || node.contains(event.target)) return;\n      closeDropdown();\n    };\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, closeDropdown]);\n  if (!wallet) return React.createElement(WalletModalButton, Object.assign({}, props), children);\n  if (!base58) return React.createElement(WalletConnectButton, Object.assign({}, props), children);\n  return React.createElement(\"div\", {\n    className: \"wallet-adapter-dropdown\"\n  }, React.createElement(Button, Object.assign({\n    \"aria-expanded\": active,\n    className: \"wallet-adapter-button-trigger\",\n    style: Object.assign({\n      pointerEvents: active ? 'none' : 'auto'\n    }, props.style),\n    onClick: openDropdown,\n    startIcon: React.createElement(WalletIcon, {\n      wallet: wallet\n    })\n  }, props), content), React.createElement(\"ul\", {\n    \"aria-label\": \"dropdown-list\",\n    className: \"wallet-adapter-dropdown-list \".concat(active && 'wallet-adapter-dropdown-list-active'),\n    ref: ref,\n    role: \"menu\"\n  }, React.createElement(\"li\", {\n    onClick: copyAddress,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, copied ? 'Copied' : 'Copy address'), React.createElement(\"li\", {\n    onClick: openModal,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Connect a different wallet\"), React.createElement(\"li\", {\n    onClick: disconnect,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Disconnect\")));\n};","map":{"version":3,"sources":["../src/WalletMultiButton.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Button } from './Button';\nimport { useWalletModal } from './useWalletModal';\nimport { WalletConnectButton } from './WalletConnectButton';\nimport { WalletIcon } from './WalletIcon';\nimport { WalletModalButton } from './WalletModalButton';\nexport const WalletMultiButton = (_a) => {\n    var { children } = _a, props = __rest(_a, [\"children\"]);\n    const { publicKey, wallet, disconnect } = useWallet();\n    const { setVisible } = useWalletModal();\n    const [copied, setCopied] = useState(false);\n    const [active, setActive] = useState(false);\n    const ref = useRef(null);\n    const base58 = useMemo(() => publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58(), [publicKey]);\n    const content = useMemo(() => {\n        if (children)\n            return children;\n        if (!wallet || !base58)\n            return null;\n        return base58.slice(0, 4) + '..' + base58.slice(-4);\n    }, [children, wallet, base58]);\n    const copyAddress = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        if (base58) {\n            yield navigator.clipboard.writeText(base58);\n            setCopied(true);\n            setTimeout(() => setCopied(false), 400);\n        }\n    }), [base58]);\n    const openDropdown = useCallback(() => setActive(true), [setActive]);\n    const closeDropdown = useCallback(() => setActive(false), [setActive]);\n    const openModal = useCallback(() => {\n        setVisible(true);\n        closeDropdown();\n    }, [setVisible, closeDropdown]);\n    useEffect(() => {\n        const listener = (event) => {\n            const node = ref.current;\n            // Do nothing if clicking dropdown or its descendants\n            if (!node || node.contains(event.target))\n                return;\n            closeDropdown();\n        };\n        document.addEventListener('mousedown', listener);\n        document.addEventListener('touchstart', listener);\n        return () => {\n            document.removeEventListener('mousedown', listener);\n            document.removeEventListener('touchstart', listener);\n        };\n    }, [ref, closeDropdown]);\n    if (!wallet)\n        return React.createElement(WalletModalButton, Object.assign({}, props), children);\n    if (!base58)\n        return React.createElement(WalletConnectButton, Object.assign({}, props), children);\n    return (React.createElement(\"div\", { className: \"wallet-adapter-dropdown\" },\n        React.createElement(Button, Object.assign({ \"aria-expanded\": active, className: \"wallet-adapter-button-trigger\", style: Object.assign({ pointerEvents: active ? 'none' : 'auto' }, props.style), onClick: openDropdown, startIcon: React.createElement(WalletIcon, { wallet: wallet }) }, props), content),\n        React.createElement(\"ul\", { \"aria-label\": \"dropdown-list\", className: `wallet-adapter-dropdown-list ${active && 'wallet-adapter-dropdown-list-active'}`, ref: ref, role: \"menu\" },\n            React.createElement(\"li\", { onClick: copyAddress, className: \"wallet-adapter-dropdown-list-item\", role: \"menuitem\" }, copied ? 'Copied' : 'Copy address'),\n            React.createElement(\"li\", { onClick: openModal, className: \"wallet-adapter-dropdown-list-item\", role: \"menuitem\" }, \"Connect a different wallet\"),\n            React.createElement(\"li\", { onClick: disconnect, className: \"wallet-adapter-dropdown-list-item\", role: \"menuitem\" }, \"Disconnect\"))));\n};\n//# sourceMappingURL=WalletMultiButton.js.map"]},"metadata":{},"sourceType":"module"}