{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar react_1 = require(\"react\");\nvar logger_1 = __importDefault(require(\"../logger\"));\nvar useWallet = function useWallet(wallet, _ref, dispatch) {\n  var refreshTimeoutId = _ref.refreshTimeoutId;\n  /**\n   * detect a wallet disconnecting and dispatch an event\n   */\n  (0, react_1.useEffect)(function () {\n    if (!wallet || !wallet.publicKey) {\n      logger_1.default.debug('wallet disconnected');\n      if (refreshTimeoutId) {\n        logger_1.default.debug('useEffect cleartimeout', refreshTimeoutId);\n        clearTimeout(refreshTimeoutId);\n        dispatch({\n          type: 'refresh_clear_timeout'\n        });\n      }\n      dispatch({\n        type: 'walletDisconnected'\n      });\n    }\n  }, [wallet === null || wallet === void 0 ? void 0 : wallet.publicKey, refreshTimeoutId]);\n  /**\n   * expect a connected wallet, throw an error if a vald wallet isn't in state\n   */\n  var expectWalletConnected = (0, react_1.useCallback)(function () {\n    logger_1.default.debug('expectWalletConnected', wallet);\n    if (!wallet || !wallet.publicKey) {\n      throw new Error('No wallet connnected');\n    }\n    return wallet;\n  }, [wallet]);\n  return {\n    expectWalletConnected: expectWalletConnected\n  };\n};\nexports.default = useWallet;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","react_1","require","logger_1","useWallet","wallet","dispatch","refreshTimeoutId","useEffect","publicKey","default","debug","clearTimeout","type","expectWalletConnected","useCallback","Error"],"sources":["/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@civic/common-gateway-react/dist/esm/useHooks/useWalletHooks.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nconst logger_1 = __importDefault(require(\"../logger\"));\nconst useWallet = (wallet, { refreshTimeoutId }, dispatch) => {\n    /**\n     * detect a wallet disconnecting and dispatch an event\n     */\n    (0, react_1.useEffect)(() => {\n        if (!wallet || !wallet.publicKey) {\n            logger_1.default.debug('wallet disconnected');\n            if (refreshTimeoutId) {\n                logger_1.default.debug('useEffect cleartimeout', refreshTimeoutId);\n                clearTimeout(refreshTimeoutId);\n                dispatch({ type: 'refresh_clear_timeout' });\n            }\n            dispatch({ type: 'walletDisconnected' });\n        }\n    }, [wallet === null || wallet === void 0 ? void 0 : wallet.publicKey, refreshTimeoutId]);\n    /**\n     * expect a connected wallet, throw an error if a vald wallet isn't in state\n     */\n    const expectWalletConnected = (0, react_1.useCallback)(() => {\n        logger_1.default.debug('expectWalletConnected', wallet);\n        if (!wallet || !wallet.publicKey) {\n            throw new Error('No wallet connnected');\n        }\n        return wallet;\n    }, [wallet]);\n    return {\n        expectWalletConnected,\n    };\n};\nexports.default = useWallet;\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,IAAK,UAAUC,GAAG,EAAE;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAID,GAAG,GAAG;IAAE,SAAS,EAAEA;EAAI,CAAC;AAC7D,CAAC;AACDE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,IAAMC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAChC,IAAMC,QAAQ,GAAGT,eAAe,CAACQ,OAAO,CAAC,WAAW,CAAC,CAAC;AACtD,IAAME,SAAS,GAAG,SAAZA,SAAS,CAAIC,MAAM,QAAwBC,QAAQ,EAAK;EAAA,IAAjCC,gBAAgB,QAAhBA,gBAAgB;EACzC;AACJ;AACA;EACI,CAAC,CAAC,EAAEN,OAAO,CAACO,SAAS,EAAE,YAAM;IACzB,IAAI,CAACH,MAAM,IAAI,CAACA,MAAM,CAACI,SAAS,EAAE;MAC9BN,QAAQ,CAACO,OAAO,CAACC,KAAK,CAAC,qBAAqB,CAAC;MAC7C,IAAIJ,gBAAgB,EAAE;QAClBJ,QAAQ,CAACO,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEJ,gBAAgB,CAAC;QAClEK,YAAY,CAACL,gBAAgB,CAAC;QAC9BD,QAAQ,CAAC;UAAEO,IAAI,EAAE;QAAwB,CAAC,CAAC;MAC/C;MACAP,QAAQ,CAAC;QAAEO,IAAI,EAAE;MAAqB,CAAC,CAAC;IAC5C;EACJ,CAAC,EAAE,CAACR,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACI,SAAS,EAAEF,gBAAgB,CAAC,CAAC;EACxF;AACJ;AACA;EACI,IAAMO,qBAAqB,GAAG,CAAC,CAAC,EAAEb,OAAO,CAACc,WAAW,EAAE,YAAM;IACzDZ,QAAQ,CAACO,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEN,MAAM,CAAC;IACvD,IAAI,CAACA,MAAM,IAAI,CAACA,MAAM,CAACI,SAAS,EAAE;MAC9B,MAAM,IAAIO,KAAK,CAAC,sBAAsB,CAAC;IAC3C;IACA,OAAOX,MAAM;EACjB,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;EACZ,OAAO;IACHS,qBAAqB,EAArBA;EACJ,CAAC;AACL,CAAC;AACDf,OAAO,CAACW,OAAO,GAAGN,SAAS"},"metadata":{},"sourceType":"script"}