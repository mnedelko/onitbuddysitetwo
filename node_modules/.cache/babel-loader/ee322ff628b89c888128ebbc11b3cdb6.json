{"ast":null,"code":"import { useRef } from 'react';\nimport useStableMemo from './useStableMemo';\nimport useWillUnmount from './useWillUnmount';\n/**\n * An _immediate_ effect that runs an effect callback when its dependency array\n * changes. This is helpful for updates should must run during render, most\n * commonly state derived from props; a more ergonomic version of https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n *\n * ```ts\n * function Example({ value }) {\n *   const [intermediaryValue, setValue] = useState(value);\n *\n *   useUpdateImmediateEffect(() => {\n *     setValue(value)\n *   }, [value])\n * ```\n *\n * @category effects\n */\n\nfunction useUpdateImmediateEffect(effect, deps) {\n  var firstRef = useRef(true);\n  var tearDown = useRef();\n  useWillUnmount(function () {\n    if (tearDown.current) tearDown.current();\n  });\n  useStableMemo(function () {\n    if (firstRef.current) {\n      firstRef.current = false;\n      return;\n    }\n    if (tearDown.current) tearDown.current();\n    tearDown.current = effect();\n  }, deps);\n}\nexport default useUpdateImmediateEffect;","map":{"version":3,"names":["useRef","useStableMemo","useWillUnmount","useUpdateImmediateEffect","effect","deps","firstRef","tearDown","current"],"sources":["/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@restart/hooks/esm/useUpdateImmediateEffect.js"],"sourcesContent":["import { useRef } from 'react';\nimport useStableMemo from './useStableMemo';\nimport useWillUnmount from './useWillUnmount';\n/**\n * An _immediate_ effect that runs an effect callback when its dependency array\n * changes. This is helpful for updates should must run during render, most\n * commonly state derived from props; a more ergonomic version of https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n *\n * ```ts\n * function Example({ value }) {\n *   const [intermediaryValue, setValue] = useState(value);\n *\n *   useUpdateImmediateEffect(() => {\n *     setValue(value)\n *   }, [value])\n * ```\n *\n * @category effects\n */\n\nfunction useUpdateImmediateEffect(effect, deps) {\n  var firstRef = useRef(true);\n  var tearDown = useRef();\n  useWillUnmount(function () {\n    if (tearDown.current) tearDown.current();\n  });\n  useStableMemo(function () {\n    if (firstRef.current) {\n      firstRef.current = false;\n      return;\n    }\n\n    if (tearDown.current) tearDown.current();\n    tearDown.current = effect();\n  }, deps);\n}\n\nexport default useUpdateImmediateEffect;"],"mappings":"AAAA,SAASA,MAAM,QAAQ,OAAO;AAC9B,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,cAAc,MAAM,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,wBAAwB,CAACC,MAAM,EAAEC,IAAI,EAAE;EAC9C,IAAIC,QAAQ,GAAGN,MAAM,CAAC,IAAI,CAAC;EAC3B,IAAIO,QAAQ,GAAGP,MAAM,EAAE;EACvBE,cAAc,CAAC,YAAY;IACzB,IAAIK,QAAQ,CAACC,OAAO,EAAED,QAAQ,CAACC,OAAO,EAAE;EAC1C,CAAC,CAAC;EACFP,aAAa,CAAC,YAAY;IACxB,IAAIK,QAAQ,CAACE,OAAO,EAAE;MACpBF,QAAQ,CAACE,OAAO,GAAG,KAAK;MACxB;IACF;IAEA,IAAID,QAAQ,CAACC,OAAO,EAAED,QAAQ,CAACC,OAAO,EAAE;IACxCD,QAAQ,CAACC,OAAO,GAAGJ,MAAM,EAAE;EAC7B,CAAC,EAAEC,IAAI,CAAC;AACV;AAEA,eAAeF,wBAAwB"},"metadata":{},"sourceType":"module"}