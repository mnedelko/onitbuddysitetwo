{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.map = exports.array = exports.rustEnum = exports.str = exports.vecU8 = exports.tagged = exports.vec = exports.bool = exports.option = exports.publicKey = exports.i128 = exports.u128 = exports.i64 = exports.u64 = exports.struct = exports.f64 = exports.f32 = exports.i32 = exports.u32 = exports.i16 = exports.u16 = exports.i8 = exports.u8 = void 0;\nvar buffer_layout_1 = require(\"buffer-layout\");\nvar web3_js_1 = require(\"@solana/web3.js\");\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\nvar buffer_layout_2 = require(\"buffer-layout\");\nObject.defineProperty(exports, \"u8\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.u8;\n  }\n});\nObject.defineProperty(exports, \"i8\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.s8;\n  }\n});\nObject.defineProperty(exports, \"u16\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.u16;\n  }\n});\nObject.defineProperty(exports, \"i16\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.s16;\n  }\n});\nObject.defineProperty(exports, \"u32\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.u32;\n  }\n});\nObject.defineProperty(exports, \"i32\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.s32;\n  }\n});\nObject.defineProperty(exports, \"f32\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.f32;\n  }\n});\nObject.defineProperty(exports, \"f64\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.f64;\n  }\n});\nObject.defineProperty(exports, \"struct\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.struct;\n  }\n});\nvar BNLayout = /*#__PURE__*/function (_buffer_layout_1$Layo) {\n  _inherits(BNLayout, _buffer_layout_1$Layo);\n  var _super = _createSuper(BNLayout);\n  function BNLayout(span, signed, property) {\n    var _this;\n    _classCallCheck(this, BNLayout);\n    _this = _super.call(this, span, property);\n    _this.blob = buffer_layout_1.blob(span);\n    _this.signed = signed;\n    return _this;\n  }\n  _createClass(BNLayout, [{\n    key: \"decode\",\n    value: function decode(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var num = new bn_js_1.default(this.blob.decode(b, offset), 10, 'le');\n      if (this.signed) {\n        return num.fromTwos(this.span * 8).clone();\n      }\n      return num;\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if (this.signed) {\n        src = src.toTwos(this.span * 8);\n      }\n      return this.blob.encode(src.toArrayLike(Buffer, 'le', this.span), b, offset);\n    }\n  }]);\n  return BNLayout;\n}(buffer_layout_1.Layout);\nfunction u64(property) {\n  return new BNLayout(8, false, property);\n}\nexports.u64 = u64;\nfunction i64(property) {\n  return new BNLayout(8, true, property);\n}\nexports.i64 = i64;\nfunction u128(property) {\n  return new BNLayout(16, false, property);\n}\nexports.u128 = u128;\nfunction i128(property) {\n  return new BNLayout(16, true, property);\n}\nexports.i128 = i128;\nvar WrappedLayout = /*#__PURE__*/function (_buffer_layout_1$Layo2) {\n  _inherits(WrappedLayout, _buffer_layout_1$Layo2);\n  var _super2 = _createSuper(WrappedLayout);\n  function WrappedLayout(layout, decoder, encoder, property) {\n    var _this2;\n    _classCallCheck(this, WrappedLayout);\n    _this2 = _super2.call(this, layout.span, property);\n    _this2.layout = layout;\n    _this2.decoder = decoder;\n    _this2.encoder = encoder;\n    return _this2;\n  }\n  _createClass(WrappedLayout, [{\n    key: \"decode\",\n    value: function decode(b, offset) {\n      return this.decoder(this.layout.decode(b, offset));\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b, offset) {\n      return this.layout.encode(this.encoder(src), b, offset);\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan(b, offset) {\n      return this.layout.getSpan(b, offset);\n    }\n  }]);\n  return WrappedLayout;\n}(buffer_layout_1.Layout);\nfunction publicKey(property) {\n  return new WrappedLayout(buffer_layout_1.blob(32), function (b) {\n    return new web3_js_1.PublicKey(b);\n  }, function (key) {\n    return key.toBuffer();\n  }, property);\n}\nexports.publicKey = publicKey;\nvar OptionLayout = /*#__PURE__*/function (_buffer_layout_1$Layo3) {\n  _inherits(OptionLayout, _buffer_layout_1$Layo3);\n  var _super3 = _createSuper(OptionLayout);\n  function OptionLayout(layout, property) {\n    var _this3;\n    _classCallCheck(this, OptionLayout);\n    _this3 = _super3.call(this, -1, property);\n    _this3.layout = layout;\n    _this3.discriminator = buffer_layout_1.u8();\n    return _this3;\n  }\n  _createClass(OptionLayout, [{\n    key: \"encode\",\n    value: function encode(src, b) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if (src === null || src === undefined) {\n        return this.discriminator.encode(0, b, offset);\n      }\n      this.discriminator.encode(1, b, offset);\n      return this.layout.encode(src, b, offset + 1) + 1;\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var discriminator = this.discriminator.decode(b, offset);\n      if (discriminator === 0) {\n        return null;\n      } else if (discriminator === 1) {\n        return this.layout.decode(b, offset + 1);\n      }\n      throw new Error('Invalid option ' + this.property);\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var discriminator = this.discriminator.decode(b, offset);\n      if (discriminator === 0) {\n        return 1;\n      } else if (discriminator === 1) {\n        return this.layout.getSpan(b, offset + 1) + 1;\n      }\n      throw new Error('Invalid option ' + this.property);\n    }\n  }]);\n  return OptionLayout;\n}(buffer_layout_1.Layout);\nfunction option(layout, property) {\n  return new OptionLayout(layout, property);\n}\nexports.option = option;\nfunction bool(property) {\n  return new WrappedLayout(buffer_layout_1.u8(), decodeBool, encodeBool, property);\n}\nexports.bool = bool;\nfunction decodeBool(value) {\n  if (value === 0) {\n    return false;\n  } else if (value === 1) {\n    return true;\n  }\n  throw new Error('Invalid bool: ' + value);\n}\nfunction encodeBool(value) {\n  return value ? 1 : 0;\n}\nfunction vec(elementLayout, property) {\n  var length = buffer_layout_1.u32('length');\n  var layout = buffer_layout_1.struct([length, buffer_layout_1.seq(elementLayout, buffer_layout_1.offset(length, -length.span), 'values')]);\n  return new WrappedLayout(layout, function (_ref) {\n    var values = _ref.values;\n    return values;\n  }, function (values) {\n    return {\n      values: values\n    };\n  }, property);\n}\nexports.vec = vec;\nfunction tagged(tag, layout, property) {\n  var wrappedLayout = buffer_layout_1.struct([u64('tag'), layout.replicate('data')]);\n  function decodeTag(_ref2) {\n    var receivedTag = _ref2.tag,\n      data = _ref2.data;\n    if (!receivedTag.eq(tag)) {\n      throw new Error('Invalid tag, expected: ' + tag.toString('hex') + ', got: ' + receivedTag.toString('hex'));\n    }\n    return data;\n  }\n  return new WrappedLayout(wrappedLayout, decodeTag, function (data) {\n    return {\n      tag: tag,\n      data: data\n    };\n  }, property);\n}\nexports.tagged = tagged;\nfunction vecU8(property) {\n  var length = buffer_layout_1.u32('length');\n  var layout = buffer_layout_1.struct([length, buffer_layout_1.blob(buffer_layout_1.offset(length, -length.span), 'data')]);\n  return new WrappedLayout(layout, function (_ref3) {\n    var data = _ref3.data;\n    return data;\n  }, function (data) {\n    return {\n      data: data\n    };\n  }, property);\n}\nexports.vecU8 = vecU8;\nfunction str(property) {\n  return new WrappedLayout(vecU8(), function (data) {\n    return data.toString('utf-8');\n  }, function (s) {\n    return Buffer.from(s, 'utf-8');\n  }, property);\n}\nexports.str = str;\nfunction rustEnum(variants, property, discriminant) {\n  var unionLayout = buffer_layout_1.union(discriminant !== null && discriminant !== void 0 ? discriminant : buffer_layout_1.u8(), property);\n  variants.forEach(function (variant, index) {\n    return unionLayout.addVariant(index, variant, variant.property);\n  });\n  return unionLayout;\n}\nexports.rustEnum = rustEnum;\nfunction array(elementLayout, length, property) {\n  var layout = buffer_layout_1.struct([buffer_layout_1.seq(elementLayout, length, 'values')]);\n  return new WrappedLayout(layout, function (_ref4) {\n    var values = _ref4.values;\n    return values;\n  }, function (values) {\n    return {\n      values: values\n    };\n  }, property);\n}\nexports.array = array;\nvar MapEntryLayout = /*#__PURE__*/function (_buffer_layout_1$Layo4) {\n  _inherits(MapEntryLayout, _buffer_layout_1$Layo4);\n  var _super4 = _createSuper(MapEntryLayout);\n  function MapEntryLayout(keyLayout, valueLayout, property) {\n    var _this4;\n    _classCallCheck(this, MapEntryLayout);\n    _this4 = _super4.call(this, keyLayout.span + valueLayout.span, property);\n    _this4.keyLayout = keyLayout;\n    _this4.valueLayout = valueLayout;\n    return _this4;\n  }\n  _createClass(MapEntryLayout, [{\n    key: \"decode\",\n    value: function decode(b, offset) {\n      offset = offset || 0;\n      var key = this.keyLayout.decode(b, offset);\n      var value = this.valueLayout.decode(b, offset + this.keyLayout.getSpan(b, offset));\n      return [key, value];\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b, offset) {\n      offset = offset || 0;\n      var keyBytes = this.keyLayout.encode(src[0], b, offset);\n      var valueBytes = this.valueLayout.encode(src[1], b, offset + keyBytes);\n      return keyBytes + valueBytes;\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan(b, offset) {\n      return this.keyLayout.getSpan(b, offset) + this.valueLayout.getSpan(b, offset);\n    }\n  }]);\n  return MapEntryLayout;\n}(buffer_layout_1.Layout);\nfunction map(keyLayout, valueLayout, property) {\n  var length = buffer_layout_1.u32('length');\n  var layout = buffer_layout_1.struct([length, buffer_layout_1.seq(new MapEntryLayout(keyLayout, valueLayout), buffer_layout_1.offset(length, -length.span), 'values')]);\n  return new WrappedLayout(layout, function (_ref5) {\n    var values = _ref5.values;\n    return new Map(values);\n  }, function (values) {\n    return {\n      values: Array.from(values.entries())\n    };\n  }, property);\n}\nexports.map = map;","map":{"version":3,"sources":["../../src/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.map = exports.array = exports.rustEnum = exports.str = exports.vecU8 = exports.tagged = exports.vec = exports.bool = exports.option = exports.publicKey = exports.i128 = exports.u128 = exports.i64 = exports.u64 = exports.struct = exports.f64 = exports.f32 = exports.i32 = exports.u32 = exports.i16 = exports.u16 = exports.i8 = exports.u8 = void 0;\nconst buffer_layout_1 = require(\"buffer-layout\");\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nvar buffer_layout_2 = require(\"buffer-layout\");\nObject.defineProperty(exports, \"u8\", { enumerable: true, get: function () { return buffer_layout_2.u8; } });\nObject.defineProperty(exports, \"i8\", { enumerable: true, get: function () { return buffer_layout_2.s8; } });\nObject.defineProperty(exports, \"u16\", { enumerable: true, get: function () { return buffer_layout_2.u16; } });\nObject.defineProperty(exports, \"i16\", { enumerable: true, get: function () { return buffer_layout_2.s16; } });\nObject.defineProperty(exports, \"u32\", { enumerable: true, get: function () { return buffer_layout_2.u32; } });\nObject.defineProperty(exports, \"i32\", { enumerable: true, get: function () { return buffer_layout_2.s32; } });\nObject.defineProperty(exports, \"f32\", { enumerable: true, get: function () { return buffer_layout_2.f32; } });\nObject.defineProperty(exports, \"f64\", { enumerable: true, get: function () { return buffer_layout_2.f64; } });\nObject.defineProperty(exports, \"struct\", { enumerable: true, get: function () { return buffer_layout_2.struct; } });\nclass BNLayout extends buffer_layout_1.Layout {\n    constructor(span, signed, property) {\n        super(span, property);\n        this.blob = buffer_layout_1.blob(span);\n        this.signed = signed;\n    }\n    decode(b, offset = 0) {\n        const num = new bn_js_1.default(this.blob.decode(b, offset), 10, 'le');\n        if (this.signed) {\n            return num.fromTwos(this.span * 8).clone();\n        }\n        return num;\n    }\n    encode(src, b, offset = 0) {\n        if (this.signed) {\n            src = src.toTwos(this.span * 8);\n        }\n        return this.blob.encode(src.toArrayLike(Buffer, 'le', this.span), b, offset);\n    }\n}\nfunction u64(property) {\n    return new BNLayout(8, false, property);\n}\nexports.u64 = u64;\nfunction i64(property) {\n    return new BNLayout(8, true, property);\n}\nexports.i64 = i64;\nfunction u128(property) {\n    return new BNLayout(16, false, property);\n}\nexports.u128 = u128;\nfunction i128(property) {\n    return new BNLayout(16, true, property);\n}\nexports.i128 = i128;\nclass WrappedLayout extends buffer_layout_1.Layout {\n    constructor(layout, decoder, encoder, property) {\n        super(layout.span, property);\n        this.layout = layout;\n        this.decoder = decoder;\n        this.encoder = encoder;\n    }\n    decode(b, offset) {\n        return this.decoder(this.layout.decode(b, offset));\n    }\n    encode(src, b, offset) {\n        return this.layout.encode(this.encoder(src), b, offset);\n    }\n    getSpan(b, offset) {\n        return this.layout.getSpan(b, offset);\n    }\n}\nfunction publicKey(property) {\n    return new WrappedLayout(buffer_layout_1.blob(32), (b) => new web3_js_1.PublicKey(b), (key) => key.toBuffer(), property);\n}\nexports.publicKey = publicKey;\nclass OptionLayout extends buffer_layout_1.Layout {\n    constructor(layout, property) {\n        super(-1, property);\n        this.layout = layout;\n        this.discriminator = buffer_layout_1.u8();\n    }\n    encode(src, b, offset = 0) {\n        if (src === null || src === undefined) {\n            return this.discriminator.encode(0, b, offset);\n        }\n        this.discriminator.encode(1, b, offset);\n        return this.layout.encode(src, b, offset + 1) + 1;\n    }\n    decode(b, offset = 0) {\n        const discriminator = this.discriminator.decode(b, offset);\n        if (discriminator === 0) {\n            return null;\n        }\n        else if (discriminator === 1) {\n            return this.layout.decode(b, offset + 1);\n        }\n        throw new Error('Invalid option ' + this.property);\n    }\n    getSpan(b, offset = 0) {\n        const discriminator = this.discriminator.decode(b, offset);\n        if (discriminator === 0) {\n            return 1;\n        }\n        else if (discriminator === 1) {\n            return this.layout.getSpan(b, offset + 1) + 1;\n        }\n        throw new Error('Invalid option ' + this.property);\n    }\n}\nfunction option(layout, property) {\n    return new OptionLayout(layout, property);\n}\nexports.option = option;\nfunction bool(property) {\n    return new WrappedLayout(buffer_layout_1.u8(), decodeBool, encodeBool, property);\n}\nexports.bool = bool;\nfunction decodeBool(value) {\n    if (value === 0) {\n        return false;\n    }\n    else if (value === 1) {\n        return true;\n    }\n    throw new Error('Invalid bool: ' + value);\n}\nfunction encodeBool(value) {\n    return value ? 1 : 0;\n}\nfunction vec(elementLayout, property) {\n    const length = buffer_layout_1.u32('length');\n    const layout = buffer_layout_1.struct([\n        length,\n        buffer_layout_1.seq(elementLayout, buffer_layout_1.offset(length, -length.span), 'values'),\n    ]);\n    return new WrappedLayout(layout, ({ values }) => values, values => ({ values }), property);\n}\nexports.vec = vec;\nfunction tagged(tag, layout, property) {\n    const wrappedLayout = buffer_layout_1.struct([\n        u64('tag'),\n        layout.replicate('data'),\n    ]);\n    function decodeTag({ tag: receivedTag, data }) {\n        if (!receivedTag.eq(tag)) {\n            throw new Error('Invalid tag, expected: ' +\n                tag.toString('hex') +\n                ', got: ' +\n                receivedTag.toString('hex'));\n        }\n        return data;\n    }\n    return new WrappedLayout(wrappedLayout, decodeTag, data => ({ tag, data }), property);\n}\nexports.tagged = tagged;\nfunction vecU8(property) {\n    const length = buffer_layout_1.u32('length');\n    const layout = buffer_layout_1.struct([\n        length,\n        buffer_layout_1.blob(buffer_layout_1.offset(length, -length.span), 'data'),\n    ]);\n    return new WrappedLayout(layout, ({ data }) => data, data => ({ data }), property);\n}\nexports.vecU8 = vecU8;\nfunction str(property) {\n    return new WrappedLayout(vecU8(), data => data.toString('utf-8'), s => Buffer.from(s, 'utf-8'), property);\n}\nexports.str = str;\nfunction rustEnum(variants, property, discriminant) {\n    const unionLayout = buffer_layout_1.union(discriminant !== null && discriminant !== void 0 ? discriminant : buffer_layout_1.u8(), property);\n    variants.forEach((variant, index) => unionLayout.addVariant(index, variant, variant.property));\n    return unionLayout;\n}\nexports.rustEnum = rustEnum;\nfunction array(elementLayout, length, property) {\n    const layout = buffer_layout_1.struct([\n        buffer_layout_1.seq(elementLayout, length, 'values'),\n    ]);\n    return new WrappedLayout(layout, ({ values }) => values, values => ({ values }), property);\n}\nexports.array = array;\nclass MapEntryLayout extends buffer_layout_1.Layout {\n    constructor(keyLayout, valueLayout, property) {\n        super(keyLayout.span + valueLayout.span, property);\n        this.keyLayout = keyLayout;\n        this.valueLayout = valueLayout;\n    }\n    decode(b, offset) {\n        offset = offset || 0;\n        const key = this.keyLayout.decode(b, offset);\n        const value = this.valueLayout.decode(b, offset + this.keyLayout.getSpan(b, offset));\n        return [key, value];\n    }\n    encode(src, b, offset) {\n        offset = offset || 0;\n        const keyBytes = this.keyLayout.encode(src[0], b, offset);\n        const valueBytes = this.valueLayout.encode(src[1], b, offset + keyBytes);\n        return keyBytes + valueBytes;\n    }\n    getSpan(b, offset) {\n        return (this.keyLayout.getSpan(b, offset) + this.valueLayout.getSpan(b, offset));\n    }\n}\nfunction map(keyLayout, valueLayout, property) {\n    const length = buffer_layout_1.u32('length');\n    const layout = buffer_layout_1.struct([\n        length,\n        buffer_layout_1.seq(new MapEntryLayout(keyLayout, valueLayout), buffer_layout_1.offset(length, -length.span), 'values'),\n    ]);\n    return new WrappedLayout(layout, ({ values }) => new Map(values), values => ({ values: Array.from(values.entries()) }), property);\n}\nexports.map = map;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}