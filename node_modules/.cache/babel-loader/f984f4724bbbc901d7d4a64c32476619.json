{"ast":null,"code":"import _slicedToArray from \"/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _excluded = [\"dataKey\", \"textField\", \"autoFocus\", \"id\", \"value\", \"defaultValue\", \"onChange\", \"open\", \"defaultOpen\", \"onToggle\", \"focusFirstItem\", \"searchTerm\", \"defaultSearchTerm\", \"onSearch\", \"filter\", \"allowCreate\", \"className\", \"containerClassName\", \"placeholder\", \"busy\", \"disabled\", \"readOnly\", \"selectIcon\", \"clearTagIcon\", \"busySpinner\", \"dropUp\", \"tabIndex\", \"popupTransition\", \"showPlaceholderWithValues\", \"showSelectedItemsInList\", \"onSelect\", \"onCreate\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"inputProps\", \"listProps\", \"popupProps\", \"renderListItem\", \"renderListGroup\", \"renderTagValue\", \"optionComponent\", \"tagOptionComponent\", \"groupBy\", \"listComponent\", \"popupComponent\", \"tagListComponent\", \"data\", \"messages\"];\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport cn from 'classnames';\nimport closest from 'dom-helpers/closest';\nimport PropTypes from 'prop-types';\nimport React, { useImperativeHandle, useMemo, useRef, useEffect } from 'react';\nimport { useUncontrolledProp } from 'uncontrollable';\nimport AddToListOption, { CREATE_OPTION } from './AddToListOption';\nimport { times } from './Icon';\nimport List from './List';\nimport { FocusListContext, useFocusList } from './FocusListContext';\nimport MultiselectInput from './MultiselectInput';\nimport MultiselectTagList from './MultiselectTagList';\nimport BasePopup from './Popup';\nimport Widget from './Widget';\nimport WidgetPicker from './WidgetPicker';\nimport { useMessagesWithDefaults } from './messages';\nimport { setActiveDescendant } from './A11y';\nimport { useFilteredData } from './Filter';\nimport * as CustomPropTypes from './PropTypes';\nimport canShowCreate from './canShowCreate';\nimport { useAccessors } from './Accessors';\nimport useDropdownToggle from './useDropdownToggle';\nimport useFocusManager from './useFocusManager';\nimport { notify, useFirstFocusedRender, useInstanceId } from './WidgetHelpers';\nimport DropdownCaret from './PickerCaret';\nvar ENTER = 13;\nvar INSERT = 'insert';\nvar REMOVE = 'remove';\nvar propTypes = {\n  data: PropTypes.array,\n  //-- controlled props --\n  value: PropTypes.array,\n  /**\n   * @type {function (\n   *  dataItems: ?any[],\n   *  metadata: {\n   *    dataItem: any,\n   *    action: 'insert' | 'remove',\n   *    originalEvent: SyntheticEvent,\n   *    lastValue: ?any[],\n   *    searchTerm: ?string\n   *  }\n   * ): void}\n   */\n  onChange: PropTypes.func,\n  searchTerm: PropTypes.string,\n  /**\n   * @type {function (\n   *  searchTerm: ?string,\n   *  metadata: {\n   *    action: 'clear' | 'input',\n   *    lastSearchTerm: ?string,\n   *    originalEvent: SyntheticEvent,\n   *  }\n   * ): void}\n   */\n  onSearch: PropTypes.func,\n  open: PropTypes.bool,\n  handleOpen: PropTypes.func,\n  //-------------------------------------------\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  renderTagValue: PropTypes.func,\n  renderListItem: PropTypes.func,\n  renderListGroup: PropTypes.func,\n  groupBy: CustomPropTypes.accessor,\n  allowCreate: PropTypes.oneOf([true, false, 'onFilter']),\n  /**\n   *\n   * @type { (dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void }\n   */\n  onSelect: PropTypes.func,\n  /**\n   * @type { (searchTerm: string) => void }\n   */\n  onCreate: PropTypes.func,\n  busy: PropTypes.bool,\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: PropTypes.node,\n  /** Specify the element used to render tag clear icons. */\n  clearTagIcon: PropTypes.node,\n  /** Specify the element used to render the busy indicator */\n  busySpinner: PropTypes.node,\n  dropUp: PropTypes.bool,\n  popupTransition: PropTypes.elementType,\n  /** Adds a css class to the input container element. */\n  containerClassName: PropTypes.string,\n  inputProps: PropTypes.object,\n  listProps: PropTypes.object,\n  autoFocus: PropTypes.bool,\n  placeholder: PropTypes.string,\n  /** Continue to show the input placeholder even if tags are selected */\n  showPlaceholderWithValues: PropTypes.bool,\n  /** Continue to show the selected items in the dropdown list */\n  showSelectedItemsInList: PropTypes.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  messages: PropTypes.shape({\n    open: CustomPropTypes.message,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message,\n    createOption: CustomPropTypes.message,\n    tagsLabel: CustomPropTypes.message,\n    selectedItems: CustomPropTypes.message,\n    noneSelected: CustomPropTypes.message,\n    removeLabel: CustomPropTypes.message\n  })\n};\nvar EMPTY_ARRAY = [];\nfunction useMultiselectData() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : EMPTY_ARRAY;\n  var data = arguments.length > 1 ? arguments[1] : undefined;\n  var accessors = arguments.length > 2 ? arguments[2] : undefined;\n  var filter = arguments.length > 3 ? arguments[3] : undefined;\n  var searchTerm = arguments.length > 4 ? arguments[4] : undefined;\n  var showSelectedItemsInList = arguments.length > 5 ? arguments[5] : undefined;\n  data = useMemo(function () {\n    return showSelectedItemsInList ? data : data.filter(function (i) {\n      return !value.some(function (v) {\n        return accessors.matches(i, v);\n      });\n    });\n  }, [data, showSelectedItemsInList, value, accessors]);\n  return [useFilteredData(data, filter || false, searchTerm, accessors.text), data.length];\n}\n\n/**\n * ---\n * shortcuts:\n *   - { key: left arrow, label: move focus to previous tag }\n *   - { key: right arrow, label: move focus to next tag }\n *   - { key: delete, deselect focused tag }\n *   - { key: backspace, deselect next tag }\n *   - { key: alt + up arrow, label: close Multiselect }\n *   - { key: down arrow, label: open Multiselect, and move focus to next item }\n *   - { key: up arrow, label: move focus to previous item }\n *   - { key: home, label: move focus to first item }\n *   - { key: end, label: move focus to last item }\n *   - { key: enter, label: select focused item }\n *   - { key: ctrl + enter, label: create new tag from current searchTerm }\n *   - { key: any key, label: search list for item starting with key }\n * ---\n *\n * A select listbox alternative.\n *\n * @public\n */\nvar Multiselect = /*#__PURE__*/React.forwardRef(function Multiselect(_ref, outerRef) {\n  var dataKey = _ref.dataKey,\n    textField = _ref.textField,\n    autoFocus = _ref.autoFocus,\n    id = _ref.id,\n    value = _ref.value,\n    _ref$defaultValue = _ref.defaultValue,\n    defaultValue = _ref$defaultValue === void 0 ? [] : _ref$defaultValue,\n    onChange = _ref.onChange,\n    open = _ref.open,\n    _ref$defaultOpen = _ref.defaultOpen,\n    defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n    onToggle = _ref.onToggle,\n    _ref$focusFirstItem = _ref.focusFirstItem,\n    focusFirstItem = _ref$focusFirstItem === void 0 ? false : _ref$focusFirstItem,\n    searchTerm = _ref.searchTerm,\n    _ref$defaultSearchTer = _ref.defaultSearchTerm,\n    defaultSearchTerm = _ref$defaultSearchTer === void 0 ? '' : _ref$defaultSearchTer,\n    onSearch = _ref.onSearch,\n    _ref$filter = _ref.filter,\n    filter = _ref$filter === void 0 ? 'startsWith' : _ref$filter,\n    _ref$allowCreate = _ref.allowCreate,\n    allowCreate = _ref$allowCreate === void 0 ? false : _ref$allowCreate,\n    className = _ref.className,\n    containerClassName = _ref.containerClassName,\n    placeholder = _ref.placeholder,\n    busy = _ref.busy,\n    disabled = _ref.disabled,\n    readOnly = _ref.readOnly,\n    selectIcon = _ref.selectIcon,\n    _ref$clearTagIcon = _ref.clearTagIcon,\n    clearTagIcon = _ref$clearTagIcon === void 0 ? times : _ref$clearTagIcon,\n    busySpinner = _ref.busySpinner,\n    dropUp = _ref.dropUp,\n    tabIndex = _ref.tabIndex,\n    popupTransition = _ref.popupTransition,\n    _ref$showPlaceholderW = _ref.showPlaceholderWithValues,\n    showPlaceholderWithValues = _ref$showPlaceholderW === void 0 ? false : _ref$showPlaceholderW,\n    _ref$showSelectedItem = _ref.showSelectedItemsInList,\n    showSelectedItemsInList = _ref$showSelectedItem === void 0 ? false : _ref$showSelectedItem,\n    onSelect = _ref.onSelect,\n    onCreate = _ref.onCreate,\n    onKeyDown = _ref.onKeyDown,\n    onBlur = _ref.onBlur,\n    onFocus = _ref.onFocus,\n    inputProps = _ref.inputProps,\n    listProps = _ref.listProps,\n    popupProps = _ref.popupProps,\n    renderListItem = _ref.renderListItem,\n    renderListGroup = _ref.renderListGroup,\n    renderTagValue = _ref.renderTagValue,\n    optionComponent = _ref.optionComponent,\n    tagOptionComponent = _ref.tagOptionComponent,\n    groupBy = _ref.groupBy,\n    _ref$listComponent = _ref.listComponent,\n    ListComponent = _ref$listComponent === void 0 ? List : _ref$listComponent,\n    _ref$popupComponent = _ref.popupComponent,\n    Popup = _ref$popupComponent === void 0 ? BasePopup : _ref$popupComponent,\n    _ref$tagListComponent = _ref.tagListComponent,\n    TagList = _ref$tagListComponent === void 0 ? MultiselectTagList : _ref$tagListComponent,\n    _ref$data = _ref.data,\n    rawData = _ref$data === void 0 ? [] : _ref$data,\n    userMessages = _ref.messages,\n    elementProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useUncontrolledProp = useUncontrolledProp(value, defaultValue, onChange),\n    _useUncontrolledProp2 = _slicedToArray(_useUncontrolledProp, 2),\n    currentValue = _useUncontrolledProp2[0],\n    handleChange = _useUncontrolledProp2[1];\n  var _useUncontrolledProp3 = useUncontrolledProp(open, defaultOpen, onToggle),\n    _useUncontrolledProp4 = _slicedToArray(_useUncontrolledProp3, 2),\n    currentOpen = _useUncontrolledProp4[0],\n    handleOpen = _useUncontrolledProp4[1];\n  var _useUncontrolledProp5 = useUncontrolledProp(searchTerm, defaultSearchTerm, onSearch),\n    _useUncontrolledProp6 = _slicedToArray(_useUncontrolledProp5, 2),\n    currentSearch = _useUncontrolledProp6[0],\n    handleSearch = _useUncontrolledProp6[1];\n  var ref = useRef(null);\n  var inputRef = useRef(null);\n  var listRef = useRef(null);\n  var inputId = useInstanceId(id, '_input');\n  var tagsId = useInstanceId(id, '_taglist');\n  var listId = useInstanceId(id, '_listbox');\n  var createId = useInstanceId(id, '_createlist_option');\n  var activeTagId = useInstanceId(id, '_taglist_active_tag');\n  var activeOptionId = useInstanceId(id, '_listbox_active_option');\n  var accessors = useAccessors(textField, dataKey);\n  var messages = useMessagesWithDefaults(userMessages);\n  var toggle = useDropdownToggle(currentOpen, handleOpen);\n  var isDisabled = disabled === true;\n  var isReadOnly = !!readOnly;\n  var _useFocusManager = useFocusManager(ref, {\n      disabled: isDisabled,\n      onBlur: onBlur,\n      onFocus: onFocus\n    }, {\n      didHandle: function didHandle(focused, event) {\n        if (focused) return focus();\n        toggle.close();\n        clearSearch(event);\n        tagList.focus(null);\n      }\n    }),\n    _useFocusManager2 = _slicedToArray(_useFocusManager, 2),\n    focusEvents = _useFocusManager2[0],\n    focused = _useFocusManager2[1];\n  var dataItems = useMemo(function () {\n    return currentValue.map(function (item) {\n      return accessors.findOrSelf(rawData, item);\n    });\n  }, [rawData, currentValue, accessors]);\n  var _useMultiselectData = useMultiselectData(dataItems, rawData, accessors, currentOpen ? filter : false, currentSearch, showSelectedItemsInList),\n    _useMultiselectData2 = _slicedToArray(_useMultiselectData, 2),\n    data = _useMultiselectData2[0],\n    lengthWithoutValues = _useMultiselectData2[1];\n  var list = useFocusList({\n    scope: ref,\n    scopeSelector: '.rw-popup',\n    focusFirstItem: focusFirstItem,\n    activeId: activeOptionId,\n    anchorItem: currentOpen ? dataItems[dataItems.length - 1] : undefined\n  });\n  var tagList = useFocusList({\n    scope: ref,\n    scopeSelector: '.rw-multiselect-taglist',\n    activeId: activeTagId\n  });\n  var showCreateOption = canShowCreate(allowCreate, {\n    searchTerm: currentSearch,\n    data: data,\n    dataItems: dataItems,\n    accessors: accessors\n  });\n  /**\n   * Update aria when it changes on update\n   */\n\n  var focusedTag = tagList.getFocused();\n  useEffect(function () {\n    if (currentOpen) return;\n    setActiveDescendant(inputRef.current, focusedTag ? activeTagId : '');\n  }, [activeTagId, currentOpen, focusedTag]);\n  var focusedItem = list.getFocused();\n  useEffect(function () {\n    if (!currentOpen) return; // if (focusedItem) tagList.focus(null)\n\n    setActiveDescendant(inputRef.current, focusedItem ? activeOptionId : '');\n  }, [activeOptionId, currentOpen, focusedItem]);\n  /**\n   * Event Handlers\n   */\n\n  var handleDelete = function handleDelete(dataItem, event) {\n    if (isDisabled || readOnly || tagList.size() === 0) return;\n    focus();\n    change(dataItem, event, REMOVE);\n  };\n  var deletingRef = useRef(false);\n  var handleSearchKeyDown = function handleSearchKeyDown(e) {\n    if (e.key === 'Backspace' && e.currentTarget.value && !deletingRef.current) deletingRef.current = true;\n  };\n  var handleSearchKeyUp = function handleSearchKeyUp(e) {\n    if (e.key === 'Backspace' && deletingRef.current) {\n      deletingRef.current = false;\n    }\n  };\n  var handleInputChange = function handleInputChange(e) {\n    search(e.target.value, e, 'input');\n    toggle.open();\n  };\n  var handleClick = function handleClick(e) {\n    if (isDisabled || readOnly) return; // prevents double clicks when in a <label>\n\n    e.preventDefault();\n    focus();\n    if (closest(e.target, '.rw-select') && currentOpen) {\n      toggle.close();\n    } else toggle.open();\n  };\n  var handleDoubleClick = function handleDoubleClick() {\n    if (isDisabled || !inputRef.current) return;\n    focus();\n    if (inputRef.current) inputRef.current.select();\n  };\n  var handleSelect = function handleSelect(dataItem, originalEvent) {\n    if (dataItem === undefined) return;\n    originalEvent.preventDefault();\n    if (dataItem === CREATE_OPTION) {\n      handleCreate(originalEvent);\n      return;\n    }\n    notify(onSelect, [dataItem, {\n      originalEvent: originalEvent\n    }]);\n    if (!showSelectedItemsInList || !dataItems.includes(dataItem)) {\n      change(dataItem, originalEvent, INSERT);\n    } else {\n      change(dataItem, originalEvent, REMOVE);\n    }\n    focus();\n  };\n  var handleCreate = function handleCreate(event) {\n    notify(onCreate, [currentSearch]);\n    clearSearch(event);\n    focus();\n  };\n  var handleKeyDown = function handleKeyDown(event) {\n    if (readOnly) {\n      event.preventDefault();\n      return;\n    }\n    var key = event.key,\n      keyCode = event.keyCode,\n      altKey = event.altKey,\n      ctrlKey = event.ctrlKey;\n    notify(onKeyDown, [event]);\n    if (event.defaultPrevented) return;\n    if (key === 'ArrowDown') {\n      event.preventDefault();\n      if (!currentOpen) {\n        toggle.open();\n        return;\n      }\n      list.focus(list.next());\n      tagList.focus(null);\n    } else if (key === 'ArrowUp' && (currentOpen || altKey)) {\n      event.preventDefault();\n      if (altKey) {\n        toggle.close();\n        return;\n      }\n      list.focus(list.prev());\n      tagList.focus(null);\n    } else if (key === 'End') {\n      event.preventDefault();\n      if (currentOpen) {\n        list.focus(list.last());\n        tagList.focus(null);\n      } else {\n        tagList.focus(tagList.last());\n        list.focus(null);\n      }\n    } else if (key === 'Home') {\n      event.preventDefault();\n      if (currentOpen) list.focus(list.first());else list.focus(tagList.first());\n    } else if (currentOpen && keyCode === ENTER) {\n      // using keyCode to ignore enter for japanese IME\n      event.preventDefault();\n      if (ctrlKey && showCreateOption) {\n        return handleCreate(event);\n      }\n      handleSelect(list.getFocused(), event);\n    } else if (key === 'Escape') {\n      if (currentOpen) toggle.close();else tagList.focus(null); //\n    } else if (!currentSearch && !deletingRef.current) {\n      //\n      if (key === 'ArrowLeft') {\n        tagList.focus(tagList.prev({\n          behavior: 'loop'\n        }));\n      } else if (key === 'ArrowRight') {\n        tagList.focus(tagList.next({\n          behavior: 'loop'\n        })); //\n      } else if (key === 'Delete' && tagList.getFocused()) {\n        handleDelete(tagList.getFocused(), event); //\n      } else if (key === 'Backspace') {\n        handleDelete(tagList.toDataItem(tagList.last()), event);\n      } else if (key === ' ' && !currentOpen) {\n        event.preventDefault();\n        toggle.open();\n      }\n    }\n  };\n  /**\n   * Methods\n   */\n\n  function change(dataItem, originalEvent, action) {\n    var nextDataItems = dataItems;\n    switch (action) {\n      case INSERT:\n        nextDataItems = nextDataItems.concat(dataItem);\n        break;\n      case REMOVE:\n        nextDataItems = nextDataItems.filter(function (d) {\n          return d !== dataItem;\n        });\n        break;\n    }\n    handleChange(nextDataItems, {\n      action: action,\n      dataItem: dataItem,\n      originalEvent: originalEvent,\n      searchTerm: currentSearch,\n      lastValue: currentValue\n    });\n    clearSearch(originalEvent);\n  }\n  function clearSearch(originalEvent) {\n    search('', originalEvent, 'clear');\n  }\n  function search(nextSearchTerm, originalEvent) {\n    var action = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'input';\n    if (nextSearchTerm !== currentSearch) handleSearch(nextSearchTerm, {\n      action: action,\n      originalEvent: originalEvent,\n      lastSearchTerm: currentSearch\n    });\n  }\n  function focus() {\n    if (inputRef.current) inputRef.current.focus();\n  }\n  /**\n   * Render\n   */\n\n  useImperativeHandle(outerRef, function () {\n    return {\n      focus: focus\n    };\n  });\n  var shouldRenderPopup = useFirstFocusedRender(focused, currentOpen);\n  var shouldRenderTags = !!dataItems.length;\n  var inputOwns = \"\".concat(listId, \" \") + (shouldRenderTags ? tagsId : '') + (showCreateOption ? createId : '');\n  return /*#__PURE__*/React.createElement(Widget, _extends({}, elementProps, {\n    ref: ref,\n    open: currentOpen,\n    dropUp: dropUp,\n    focused: focused,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    onKeyDown: handleKeyDown\n  }, focusEvents, {\n    className: cn(className, 'rw-multiselect')\n  }), /*#__PURE__*/React.createElement(WidgetPicker, {\n    onClick: handleClick,\n    onTouchEnd: handleClick,\n    onDoubleClick: handleDoubleClick,\n    className: cn(containerClassName, 'rw-widget-input')\n  }, /*#__PURE__*/React.createElement(FocusListContext.Provider, {\n    value: tagList.context\n  }, /*#__PURE__*/React.createElement(TagList, {\n    id: tagsId,\n    textAccessor: accessors.text,\n    clearTagIcon: clearTagIcon,\n    label: messages.tagsLabel(),\n    value: dataItems,\n    readOnly: isReadOnly,\n    disabled: disabled,\n    onDelete: handleDelete,\n    tagOptionComponent: tagOptionComponent,\n    renderTagValue: renderTagValue\n  }, /*#__PURE__*/React.createElement(MultiselectInput, _extends({}, inputProps, {\n    role: \"combobox\",\n    autoFocus: autoFocus,\n    tabIndex: tabIndex || 0,\n    \"aria-expanded\": !!currentOpen,\n    \"aria-busy\": !!busy,\n    \"aria-owns\": inputOwns,\n    \"aria-controls\": listId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-autocomplete\": \"list\",\n    value: currentSearch,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    placeholder: (currentValue.length && !showPlaceholderWithValues ? '' : placeholder) || '',\n    onKeyDown: handleSearchKeyDown,\n    onKeyUp: handleSearchKeyUp,\n    onChange: handleInputChange,\n    ref: inputRef\n  })))), /*#__PURE__*/React.createElement(DropdownCaret, {\n    busy: busy,\n    spinner: busySpinner,\n    icon: selectIcon,\n    visible: focused\n  })), /*#__PURE__*/React.createElement(FocusListContext.Provider, {\n    value: list.context\n  }, shouldRenderPopup && /*#__PURE__*/React.createElement(Popup, _extends({}, popupProps, {\n    dropUp: dropUp,\n    open: currentOpen,\n    transition: popupTransition,\n    onEntering: function onEntering() {\n      return listRef.current.scrollIntoView();\n    }\n  }), /*#__PURE__*/React.createElement(ListComponent, _extends({}, listProps, {\n    id: listId,\n    data: data,\n    tabIndex: -1,\n    disabled: disabled,\n    searchTerm: currentSearch,\n    accessors: accessors,\n    renderItem: renderListItem,\n    renderGroup: renderListGroup,\n    value: dataItems,\n    groupBy: groupBy,\n    optionComponent: optionComponent,\n    onChange: function onChange(d, meta) {\n      return handleSelect(d, meta.originalEvent);\n    },\n    \"aria-live\": \"polite\",\n    \"aria-labelledby\": inputId,\n    \"aria-hidden\": !currentOpen,\n    ref: listRef,\n    messages: {\n      emptyList: lengthWithoutValues ? messages.emptyFilter : messages.emptyList\n    }\n  })), showCreateOption && /*#__PURE__*/React.createElement(AddToListOption, {\n    onSelect: handleCreate\n  }, messages.createOption(currentValue, currentSearch)))));\n});\nMultiselect.displayName = 'Multiselect';\nMultiselect.propTypes = propTypes;\nexport default Multiselect;","map":{"version":3,"names":["_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","cn","closest","PropTypes","React","useImperativeHandle","useMemo","useRef","useEffect","useUncontrolledProp","AddToListOption","CREATE_OPTION","times","List","FocusListContext","useFocusList","MultiselectInput","MultiselectTagList","BasePopup","Widget","WidgetPicker","useMessagesWithDefaults","setActiveDescendant","useFilteredData","CustomPropTypes","canShowCreate","useAccessors","useDropdownToggle","useFocusManager","notify","useFirstFocusedRender","useInstanceId","DropdownCaret","ENTER","INSERT","REMOVE","propTypes","data","array","value","onChange","func","searchTerm","string","onSearch","open","bool","handleOpen","dataKey","accessor","textField","renderTagValue","renderListItem","renderListGroup","groupBy","allowCreate","oneOf","onSelect","onCreate","busy","selectIcon","node","clearTagIcon","busySpinner","dropUp","popupTransition","elementType","containerClassName","inputProps","object","listProps","autoFocus","placeholder","showPlaceholderWithValues","showSelectedItemsInList","disabled","acceptsArray","readOnly","messages","shape","message","emptyList","emptyFilter","createOption","tagsLabel","selectedItems","noneSelected","removeLabel","EMPTY_ARRAY","useMultiselectData","accessors","filter","some","v","matches","text","Multiselect","forwardRef","_ref","outerRef","id","defaultValue","defaultOpen","onToggle","focusFirstItem","defaultSearchTerm","className","tabIndex","onKeyDown","onBlur","onFocus","popupProps","optionComponent","tagOptionComponent","listComponent","ListComponent","popupComponent","Popup","tagListComponent","TagList","rawData","userMessages","elementProps","currentValue","handleChange","currentOpen","currentSearch","handleSearch","ref","inputRef","listRef","inputId","tagsId","listId","createId","activeTagId","activeOptionId","toggle","isDisabled","isReadOnly","didHandle","focused","event","focus","close","clearSearch","tagList","focusEvents","dataItems","map","item","findOrSelf","lengthWithoutValues","list","scope","scopeSelector","activeId","anchorItem","undefined","showCreateOption","focusedTag","getFocused","current","focusedItem","handleDelete","dataItem","size","change","deletingRef","handleSearchKeyDown","e","currentTarget","handleSearchKeyUp","handleInputChange","search","handleClick","preventDefault","handleDoubleClick","select","handleSelect","originalEvent","handleCreate","includes","handleKeyDown","keyCode","altKey","ctrlKey","defaultPrevented","next","prev","last","first","behavior","toDataItem","action","nextDataItems","concat","d","lastValue","nextSearchTerm","lastSearchTerm","shouldRenderPopup","shouldRenderTags","inputOwns","createElement","onClick","onTouchEnd","onDoubleClick","Provider","context","textAccessor","label","onDelete","role","onKeyUp","spinner","icon","visible","transition","onEntering","scrollIntoView","renderItem","renderGroup","meta","displayName"],"sources":["/Users/mnedelko/Library/Mobile Documents/com~apple~CloudDocs/Documents/comparativesite/onitbuddyprod/node_modules/react-widgets/esm/Multiselect.js"],"sourcesContent":["const _excluded = [\"dataKey\", \"textField\", \"autoFocus\", \"id\", \"value\", \"defaultValue\", \"onChange\", \"open\", \"defaultOpen\", \"onToggle\", \"focusFirstItem\", \"searchTerm\", \"defaultSearchTerm\", \"onSearch\", \"filter\", \"allowCreate\", \"className\", \"containerClassName\", \"placeholder\", \"busy\", \"disabled\", \"readOnly\", \"selectIcon\", \"clearTagIcon\", \"busySpinner\", \"dropUp\", \"tabIndex\", \"popupTransition\", \"showPlaceholderWithValues\", \"showSelectedItemsInList\", \"onSelect\", \"onCreate\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"inputProps\", \"listProps\", \"popupProps\", \"renderListItem\", \"renderListGroup\", \"renderTagValue\", \"optionComponent\", \"tagOptionComponent\", \"groupBy\", \"listComponent\", \"popupComponent\", \"tagListComponent\", \"data\", \"messages\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport cn from 'classnames';\nimport closest from 'dom-helpers/closest';\nimport PropTypes from 'prop-types';\nimport React, { useImperativeHandle, useMemo, useRef, useEffect } from 'react';\nimport { useUncontrolledProp } from 'uncontrollable';\nimport AddToListOption, { CREATE_OPTION } from './AddToListOption';\nimport { times } from './Icon';\nimport List from './List';\nimport { FocusListContext, useFocusList } from './FocusListContext';\nimport MultiselectInput from './MultiselectInput';\nimport MultiselectTagList from './MultiselectTagList';\nimport BasePopup from './Popup';\nimport Widget from './Widget';\nimport WidgetPicker from './WidgetPicker';\nimport { useMessagesWithDefaults } from './messages';\nimport { setActiveDescendant } from './A11y';\nimport { useFilteredData } from './Filter';\nimport * as CustomPropTypes from './PropTypes';\nimport canShowCreate from './canShowCreate';\nimport { useAccessors } from './Accessors';\nimport useDropdownToggle from './useDropdownToggle';\nimport useFocusManager from './useFocusManager';\nimport { notify, useFirstFocusedRender, useInstanceId } from './WidgetHelpers';\nimport DropdownCaret from './PickerCaret';\nconst ENTER = 13;\nconst INSERT = 'insert';\nconst REMOVE = 'remove';\nlet propTypes = {\n  data: PropTypes.array,\n  //-- controlled props --\n  value: PropTypes.array,\n\n  /**\n   * @type {function (\n   *  dataItems: ?any[],\n   *  metadata: {\n   *    dataItem: any,\n   *    action: 'insert' | 'remove',\n   *    originalEvent: SyntheticEvent,\n   *    lastValue: ?any[],\n   *    searchTerm: ?string\n   *  }\n   * ): void}\n   */\n  onChange: PropTypes.func,\n  searchTerm: PropTypes.string,\n\n  /**\n   * @type {function (\n   *  searchTerm: ?string,\n   *  metadata: {\n   *    action: 'clear' | 'input',\n   *    lastSearchTerm: ?string,\n   *    originalEvent: SyntheticEvent,\n   *  }\n   * ): void}\n   */\n  onSearch: PropTypes.func,\n  open: PropTypes.bool,\n  handleOpen: PropTypes.func,\n  //-------------------------------------------\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  renderTagValue: PropTypes.func,\n  renderListItem: PropTypes.func,\n  renderListGroup: PropTypes.func,\n  groupBy: CustomPropTypes.accessor,\n  allowCreate: PropTypes.oneOf([true, false, 'onFilter']),\n\n  /**\n   *\n   * @type { (dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void }\n   */\n  onSelect: PropTypes.func,\n\n  /**\n   * @type { (searchTerm: string) => void }\n   */\n  onCreate: PropTypes.func,\n  busy: PropTypes.bool,\n\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: PropTypes.node,\n\n  /** Specify the element used to render tag clear icons. */\n  clearTagIcon: PropTypes.node,\n\n  /** Specify the element used to render the busy indicator */\n  busySpinner: PropTypes.node,\n  dropUp: PropTypes.bool,\n  popupTransition: PropTypes.elementType,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: PropTypes.string,\n  inputProps: PropTypes.object,\n  listProps: PropTypes.object,\n  autoFocus: PropTypes.bool,\n  placeholder: PropTypes.string,\n\n  /** Continue to show the input placeholder even if tags are selected */\n  showPlaceholderWithValues: PropTypes.bool,\n\n  /** Continue to show the selected items in the dropdown list */\n  showSelectedItemsInList: PropTypes.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  messages: PropTypes.shape({\n    open: CustomPropTypes.message,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message,\n    createOption: CustomPropTypes.message,\n    tagsLabel: CustomPropTypes.message,\n    selectedItems: CustomPropTypes.message,\n    noneSelected: CustomPropTypes.message,\n    removeLabel: CustomPropTypes.message\n  })\n};\nconst EMPTY_ARRAY = [];\n\nfunction useMultiselectData(value = EMPTY_ARRAY, data, accessors, filter, searchTerm, showSelectedItemsInList) {\n  data = useMemo(() => showSelectedItemsInList ? data : data.filter(i => !value.some(v => accessors.matches(i, v))), [data, showSelectedItemsInList, value, accessors]);\n  return [useFilteredData(data, filter || false, searchTerm, accessors.text), data.length];\n}\n\n/**\n * ---\n * shortcuts:\n *   - { key: left arrow, label: move focus to previous tag }\n *   - { key: right arrow, label: move focus to next tag }\n *   - { key: delete, deselect focused tag }\n *   - { key: backspace, deselect next tag }\n *   - { key: alt + up arrow, label: close Multiselect }\n *   - { key: down arrow, label: open Multiselect, and move focus to next item }\n *   - { key: up arrow, label: move focus to previous item }\n *   - { key: home, label: move focus to first item }\n *   - { key: end, label: move focus to last item }\n *   - { key: enter, label: select focused item }\n *   - { key: ctrl + enter, label: create new tag from current searchTerm }\n *   - { key: any key, label: search list for item starting with key }\n * ---\n *\n * A select listbox alternative.\n *\n * @public\n */\nconst Multiselect = /*#__PURE__*/React.forwardRef(function Multiselect(_ref, outerRef) {\n  let {\n    dataKey,\n    textField,\n    autoFocus,\n    id,\n    value,\n    defaultValue = [],\n    onChange,\n    open,\n    defaultOpen = false,\n    onToggle,\n    focusFirstItem = false,\n    searchTerm,\n    defaultSearchTerm = '',\n    onSearch,\n    filter = 'startsWith',\n    allowCreate = false,\n    className,\n    containerClassName,\n    placeholder,\n    busy,\n    disabled,\n    readOnly,\n    selectIcon,\n    clearTagIcon = times,\n    busySpinner,\n    dropUp,\n    tabIndex,\n    popupTransition,\n    showPlaceholderWithValues = false,\n    showSelectedItemsInList = false,\n    onSelect,\n    onCreate,\n    onKeyDown,\n    onBlur,\n    onFocus,\n    inputProps,\n    listProps,\n    popupProps,\n    renderListItem,\n    renderListGroup,\n    renderTagValue,\n    optionComponent,\n    tagOptionComponent,\n    groupBy,\n    listComponent: ListComponent = List,\n    popupComponent: Popup = BasePopup,\n    tagListComponent: TagList = MultiselectTagList,\n    data: rawData = [],\n    messages: userMessages\n  } = _ref,\n      elementProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  let [currentValue, handleChange] = useUncontrolledProp(value, defaultValue, onChange);\n  const [currentOpen, handleOpen] = useUncontrolledProp(open, defaultOpen, onToggle);\n  const [currentSearch, handleSearch] = useUncontrolledProp(searchTerm, defaultSearchTerm, onSearch);\n  const ref = useRef(null);\n  const inputRef = useRef(null);\n  const listRef = useRef(null);\n  const inputId = useInstanceId(id, '_input');\n  const tagsId = useInstanceId(id, '_taglist');\n  const listId = useInstanceId(id, '_listbox');\n  const createId = useInstanceId(id, '_createlist_option');\n  const activeTagId = useInstanceId(id, '_taglist_active_tag');\n  const activeOptionId = useInstanceId(id, '_listbox_active_option');\n  const accessors = useAccessors(textField, dataKey);\n  const messages = useMessagesWithDefaults(userMessages);\n  const toggle = useDropdownToggle(currentOpen, handleOpen);\n  const isDisabled = disabled === true;\n  const isReadOnly = !!readOnly;\n  const [focusEvents, focused] = useFocusManager(ref, {\n    disabled: isDisabled,\n    onBlur,\n    onFocus\n  }, {\n    didHandle(focused, event) {\n      if (focused) return focus();\n      toggle.close();\n      clearSearch(event);\n      tagList.focus(null);\n    }\n\n  });\n  const dataItems = useMemo(() => currentValue.map(item => accessors.findOrSelf(rawData, item)), [rawData, currentValue, accessors]);\n  const [data, lengthWithoutValues] = useMultiselectData(dataItems, rawData, accessors, currentOpen ? filter : false, currentSearch, showSelectedItemsInList);\n  const list = useFocusList({\n    scope: ref,\n    scopeSelector: '.rw-popup',\n    focusFirstItem,\n    activeId: activeOptionId,\n    anchorItem: currentOpen ? dataItems[dataItems.length - 1] : undefined\n  });\n  const tagList = useFocusList({\n    scope: ref,\n    scopeSelector: '.rw-multiselect-taglist',\n    activeId: activeTagId\n  });\n  const showCreateOption = canShowCreate(allowCreate, {\n    searchTerm: currentSearch,\n    data,\n    dataItems,\n    accessors\n  });\n  /**\n   * Update aria when it changes on update\n   */\n\n  const focusedTag = tagList.getFocused();\n  useEffect(() => {\n    if (currentOpen) return;\n    setActiveDescendant(inputRef.current, focusedTag ? activeTagId : '');\n  }, [activeTagId, currentOpen, focusedTag]);\n  const focusedItem = list.getFocused();\n  useEffect(() => {\n    if (!currentOpen) return; // if (focusedItem) tagList.focus(null)\n\n    setActiveDescendant(inputRef.current, focusedItem ? activeOptionId : '');\n  }, [activeOptionId, currentOpen, focusedItem]);\n  /**\n   * Event Handlers\n   */\n\n  const handleDelete = (dataItem, event) => {\n    if (isDisabled || readOnly || tagList.size() === 0) return;\n    focus();\n    change(dataItem, event, REMOVE);\n  };\n\n  const deletingRef = useRef(false);\n\n  const handleSearchKeyDown = e => {\n    if (e.key === 'Backspace' && e.currentTarget.value && !deletingRef.current) deletingRef.current = true;\n  };\n\n  const handleSearchKeyUp = e => {\n    if (e.key === 'Backspace' && deletingRef.current) {\n      deletingRef.current = false;\n    }\n  };\n\n  const handleInputChange = e => {\n    search(e.target.value, e, 'input');\n    toggle.open();\n  };\n\n  const handleClick = e => {\n    if (isDisabled || readOnly) return; // prevents double clicks when in a <label>\n\n    e.preventDefault();\n    focus();\n\n    if (closest(e.target, '.rw-select') && currentOpen) {\n      toggle.close();\n    } else toggle.open();\n  };\n\n  const handleDoubleClick = () => {\n    if (isDisabled || !inputRef.current) return;\n    focus();\n    if (inputRef.current) inputRef.current.select();\n  };\n\n  const handleSelect = (dataItem, originalEvent) => {\n    if (dataItem === undefined) return;\n    originalEvent.preventDefault();\n\n    if (dataItem === CREATE_OPTION) {\n      handleCreate(originalEvent);\n      return;\n    }\n\n    notify(onSelect, [dataItem, {\n      originalEvent\n    }]);\n\n    if (!showSelectedItemsInList || !dataItems.includes(dataItem)) {\n      change(dataItem, originalEvent, INSERT);\n    } else {\n      change(dataItem, originalEvent, REMOVE);\n    }\n\n    focus();\n  };\n\n  const handleCreate = event => {\n    notify(onCreate, [currentSearch]);\n    clearSearch(event);\n    focus();\n  };\n\n  const handleKeyDown = event => {\n    if (readOnly) {\n      event.preventDefault();\n      return;\n    }\n\n    let {\n      key,\n      keyCode,\n      altKey,\n      ctrlKey\n    } = event;\n    notify(onKeyDown, [event]);\n    if (event.defaultPrevented) return;\n\n    if (key === 'ArrowDown') {\n      event.preventDefault();\n\n      if (!currentOpen) {\n        toggle.open();\n        return;\n      }\n\n      list.focus(list.next());\n      tagList.focus(null);\n    } else if (key === 'ArrowUp' && (currentOpen || altKey)) {\n      event.preventDefault();\n\n      if (altKey) {\n        toggle.close();\n        return;\n      }\n\n      list.focus(list.prev());\n      tagList.focus(null);\n    } else if (key === 'End') {\n      event.preventDefault();\n\n      if (currentOpen) {\n        list.focus(list.last());\n        tagList.focus(null);\n      } else {\n        tagList.focus(tagList.last());\n        list.focus(null);\n      }\n    } else if (key === 'Home') {\n      event.preventDefault();\n      if (currentOpen) list.focus(list.first());else list.focus(tagList.first());\n    } else if (currentOpen && keyCode === ENTER) {\n      // using keyCode to ignore enter for japanese IME\n      event.preventDefault();\n\n      if (ctrlKey && showCreateOption) {\n        return handleCreate(event);\n      }\n\n      handleSelect(list.getFocused(), event);\n    } else if (key === 'Escape') {\n      if (currentOpen) toggle.close();else tagList.focus(null); //\n    } else if (!currentSearch && !deletingRef.current) {\n      //\n      if (key === 'ArrowLeft') {\n        tagList.focus(tagList.prev({\n          behavior: 'loop'\n        }));\n      } else if (key === 'ArrowRight') {\n        tagList.focus(tagList.next({\n          behavior: 'loop'\n        })); //\n      } else if (key === 'Delete' && tagList.getFocused()) {\n        handleDelete(tagList.getFocused(), event); //\n      } else if (key === 'Backspace') {\n        handleDelete(tagList.toDataItem(tagList.last()), event);\n      } else if (key === ' ' && !currentOpen) {\n        event.preventDefault();\n        toggle.open();\n      }\n    }\n  };\n  /**\n   * Methods\n   */\n\n\n  function change(dataItem, originalEvent, action) {\n    let nextDataItems = dataItems;\n\n    switch (action) {\n      case INSERT:\n        nextDataItems = nextDataItems.concat(dataItem);\n        break;\n\n      case REMOVE:\n        nextDataItems = nextDataItems.filter(d => d !== dataItem);\n        break;\n    }\n\n    handleChange(nextDataItems, {\n      action,\n      dataItem,\n      originalEvent,\n      searchTerm: currentSearch,\n      lastValue: currentValue\n    });\n    clearSearch(originalEvent);\n  }\n\n  function clearSearch(originalEvent) {\n    search('', originalEvent, 'clear');\n  }\n\n  function search(nextSearchTerm, originalEvent, action = 'input') {\n    if (nextSearchTerm !== currentSearch) handleSearch(nextSearchTerm, {\n      action,\n      originalEvent,\n      lastSearchTerm: currentSearch\n    });\n  }\n\n  function focus() {\n    if (inputRef.current) inputRef.current.focus();\n  }\n  /**\n   * Render\n   */\n\n\n  useImperativeHandle(outerRef, () => ({\n    focus\n  }));\n  let shouldRenderPopup = useFirstFocusedRender(focused, currentOpen);\n  let shouldRenderTags = !!dataItems.length;\n  let inputOwns = `${listId} ` + (shouldRenderTags ? tagsId : '') + (showCreateOption ? createId : '');\n  return /*#__PURE__*/React.createElement(Widget, _extends({}, elementProps, {\n    ref: ref,\n    open: currentOpen,\n    dropUp: dropUp,\n    focused: focused,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    onKeyDown: handleKeyDown\n  }, focusEvents, {\n    className: cn(className, 'rw-multiselect')\n  }), /*#__PURE__*/React.createElement(WidgetPicker, {\n    onClick: handleClick,\n    onTouchEnd: handleClick,\n    onDoubleClick: handleDoubleClick,\n    className: cn(containerClassName, 'rw-widget-input')\n  }, /*#__PURE__*/React.createElement(FocusListContext.Provider, {\n    value: tagList.context\n  }, /*#__PURE__*/React.createElement(TagList, {\n    id: tagsId,\n    textAccessor: accessors.text,\n    clearTagIcon: clearTagIcon,\n    label: messages.tagsLabel(),\n    value: dataItems,\n    readOnly: isReadOnly,\n    disabled: disabled,\n    onDelete: handleDelete,\n    tagOptionComponent: tagOptionComponent,\n    renderTagValue: renderTagValue\n  }, /*#__PURE__*/React.createElement(MultiselectInput, _extends({}, inputProps, {\n    role: \"combobox\",\n    autoFocus: autoFocus,\n    tabIndex: tabIndex || 0,\n    \"aria-expanded\": !!currentOpen,\n    \"aria-busy\": !!busy,\n    \"aria-owns\": inputOwns,\n    \"aria-controls\": listId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-autocomplete\": \"list\",\n    value: currentSearch,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    placeholder: (currentValue.length && !showPlaceholderWithValues ? '' : placeholder) || '',\n    onKeyDown: handleSearchKeyDown,\n    onKeyUp: handleSearchKeyUp,\n    onChange: handleInputChange,\n    ref: inputRef\n  })))), /*#__PURE__*/React.createElement(DropdownCaret, {\n    busy: busy,\n    spinner: busySpinner,\n    icon: selectIcon,\n    visible: focused\n  })), /*#__PURE__*/React.createElement(FocusListContext.Provider, {\n    value: list.context\n  }, shouldRenderPopup && /*#__PURE__*/React.createElement(Popup, _extends({}, popupProps, {\n    dropUp: dropUp,\n    open: currentOpen,\n    transition: popupTransition,\n    onEntering: () => listRef.current.scrollIntoView()\n  }), /*#__PURE__*/React.createElement(ListComponent, _extends({}, listProps, {\n    id: listId,\n    data: data,\n    tabIndex: -1,\n    disabled: disabled,\n    searchTerm: currentSearch,\n    accessors: accessors,\n    renderItem: renderListItem,\n    renderGroup: renderListGroup,\n    value: dataItems,\n    groupBy: groupBy,\n    optionComponent: optionComponent,\n    onChange: (d, meta) => handleSelect(d, meta.originalEvent),\n    \"aria-live\": \"polite\",\n    \"aria-labelledby\": inputId,\n    \"aria-hidden\": !currentOpen,\n    ref: listRef,\n    messages: {\n      emptyList: lengthWithoutValues ? messages.emptyFilter : messages.emptyList\n    }\n  })), showCreateOption && /*#__PURE__*/React.createElement(AddToListOption, {\n    onSelect: handleCreate\n  }, messages.createOption(currentValue, currentSearch)))));\n});\nMultiselect.displayName = 'Multiselect';\nMultiselect.propTypes = propTypes;\nexport default Multiselect;"],"mappings":"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"},"metadata":{},"sourceType":"module"}